CREATE TABLE Пользователи (
ID пользователя int NOT NULL AUTO_INCREMENT,
Имя пользователя varchar(255) NOT NULL,
Адрес электронной почты varchar(255) NOT NULL,
Адрес доставки varchar(255) NOT NULL,
Номер телефона varchar(255) NOT NULL,
Хэш пароля varchar(255) NOT NULL,
PRIMARY KEY (ID пользователя)
);

CREATE TABLE Роли (
ID роли int NOT NULL AUTO_INCREMENT,
Название роли varchar(255) NOT NULL,
PRIMARY KEY (ID роли)
);

CREATE TABLE Пользователи-Роли (
ID пользователя-роли int NOT NULL AUTO_INCREMENT,
ID пользователя int NOT NULL,
ID роли int NOT NULL,
PRIMARY KEY (ID пользователя-роли),
FOREIGN KEY (ID пользователя) REFERENCES Пользователи(ID пользователя),
FOREIGN KEY (ID роли) REFERENCES Роли(ID роли)
);

CREATE TABLE Категории (
ID категории int NOT NULL AUTO_INCREMENT,
Название категории varchar(255) NOT NULL,
PRIMARY KEY (ID категории)
);

CREATE TABLE Товары (
ID товара int NOT NULL AUTO_INCREMENT,
Название товара varchar(255) NOT NULL,
Описание товара text NOT NULL,
Цена товара decimal(10, 2) NOT NULL,
ID категории int NOT NULL,
PRIMARY KEY (ID товара),
FOREIGN KEY (ID категории) REFERENCES Категории(ID категории)
);

CREATE TABLE Характеристики (
ID характеристики int NOT NULL AUTO_INCREMENT,
Название характеристики varchar(255) NOT NULL,
PRIMARY KEY (ID характеристики)
);

CREATE TABLE Товары-Характеристики (
ID товара-характеристики int NOT NULL AUTO_INCREMENT,
ID товара int NOT NULL,
ID характеристики int NOT NULL,
Значение характеристики varchar(255) NOT NULL,
PRIMARY KEY (ID товара-характеристики),
FOREIGN KEY (ID товара) REFERENCES Товары(ID товара),
FOREIGN KEY (ID характеристики) REFERENCES Характеристики(ID характеристики)
);

CREATE TABLE Изображения (
ID изображения int NOT NULL AUTO_INCREMENT,
Ссылка на изображение varchar(255) NOT NULL,
PRIMARY KEY (ID изображения)
);

CREATE TABLE Товары-Изображения (
ID товара-изображения int NOT NULL AUTO_INCREMENT,
ID товара int NOT NULL,
ID изображения int NOT NULL,
PRIMARY KEY (ID товара-изображения),
FOREIGN KEY (ID товара) REFERENCES Товары(ID товара),
FOREIGN KEY (ID изображения) REFERENCES Изображения(ID изображения)
);

CREATE TABLE Заказы (
ID заказа int NOT NULL AUTO_INCREMENT,
Номер заказа int NOT NULL,
Дата заказа datetime NOT NULL,
Сумма заказа decimal(10, 2) NOT NULL,
ID пользователя int NOT NULL,
Адрес доставки varchar(255) NOT NULL,
Статус заказа varchar(255) NOT NULL,
PRIMARY KEY (ID заказа),
FOREIGN KEY (ID пользователя) REFERENCES Пользователи(ID пользователя)
);

CREATE TABLE Заказы-Товары (
ID заказа-товара int NOT NULL AUTO_INCREMENT,
ID заказа int NOT NULL,
ID товара int NOT NULL,
Количество заказанных товаров int NOT NULL,
PRIMARY KEY (ID заказа-товара),
FOREIGN KEY (ID заказа) REFERENCES Заказы(ID заказа),
FOREIGN KEY (ID товара) REFERENCES Товары(ID товара)
);